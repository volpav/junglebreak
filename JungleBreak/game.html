<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src="scripts/quintus-all.js" type="text/javascript"></script>
</head>
<body style="background-color: black;">
    <script>
        // setup
        var Q = Quintus().include("Sprites, Scenes, Input, 2D, Touch, UI")
                         .setup({
                             width: 960,
                             height: 640
                         })
                         .controls()
                         .touch();

        // load assets
        Q.load("tiles_map.png, player.png, fly.png, level1.tmx", function () {
            Q.sheet("tiles", "tiles_map.png", { tilew: 70, tileh: 70 });
            Q.stageScene("level1");
        });

        // set stage
        Q.scene("level1", function (stage) {
            var background = new Q.TileLayer({ dataAsset: "level1.tmx", layerIndex: 0, sheet: "tiles", tileW: 70, tileH: 70, type: Q.SPRITE_NONE });
            stage.insert(background);

            var collision = new Q.TileLayer({ dataAsset: "level1.tmx", layerIndex: 1, sheet: 'tiles', tileW: 70, tileH: 70 });
            stage.collisionLayer(collision);

            var player = stage.insert(new Q.Player());
            stage.add("viewport").follow(player, { x: true, y: true }, { minX: 0, maxX: background.p.w, minY: 0, maxY: background.p.h });

            var verticalEnemy = new Q.VerticalEnemy({ x: 800, y: 120, rangeY: 70, asset: 'fly.png' });
            stage.insert(verticalEnemy);
        });

        Q.scene("endGame", function (stage) {
            alert("Game Over!");
            window.location = "";
        });
    </script>
</body>
</html>
